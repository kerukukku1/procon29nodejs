extends layout
block animecontent
  div(class="svgbox")#animation
    svg(display="none", id="start_anime", width='580', height='200', xmlns='http://www.w3.org/2000/svg', style='')
      // Created with Method Draw - http://github.com/duopixel/Method-Draw/
      g
        title background
        path#canvas_background.uYfoqRSv_0(fill='#fff', height='202', width='582', d='M-1 -1 L581 -1 L581 201 L-1 201 Z')
        g#canvasGrid(display='none', overflow='visible', y='0', x='0', height='100%', width='100%')
          path.uYfoqRSv_1(fill='url(#gridpattern)', stroke-width='0', height='100%', width='100%', d='M0 0 L100 0 L100 100 L0 100 Z')
      g
        title Layer 1
        path#svg_1.uYfoqRSv_2(stroke='#000', d='m523.803021,91.631989c0,0 17.787104,4.917335 22.011627,21.917056c0,0 3.779716,6.603256 2.668059,10.115605c-1.111656,3.512273 -2.890463,4.636246 -3.33509,5.057764c0,0 2.223433,-3.231413 -5.336119,-8.429684c0,0 -3.890978,-0.842961 -4.66915,-1.685921c-0.778171,-0.842961 -12.228641,-3.652855 -14.674418,3.371843c-2.445716,7.024775 -3.001544,18.826225 -2.668059,19.388174c0.333485,0.561948 11.672813,11.239579 12.673328,14.330409c1.000515,3.09083 6.336694,9.412998 8.671269,9.272568c2.334514,-0.14043 7.893037,-0.14043 9.338238,-2.528882c1.445141,-2.388453 5.669664,-2.669388 6.670179,0c1.000515,2.669312 0.66703,2.528882 0.66703,2.528882c0,0 3.557433,-0.98339 4.66915,2.528882c1.111656,3.512349 -1.667605,5.057764 -2.00109,5.057764c-0.333485,0 2.112231,-5.338777 -1.33406,-4.214804c0,0 -2.001029,0.105399 -2.001029,-0.842961c0,-0.94836 1.167287,4.952442 0,5.057764c0,0 -3.918764,-5.479206 -4.66915,-2.528882c0,0 -2.501287,0.63224 -3.33509,0.842961c-0.833742,0.210721 -0.66703,0.842961 -0.66703,0.842961c0,0 -2.167802,1.053682 -0.666969,4.214804c0,0 0,1.159081 -0.66703,1.685998c-0.66703,0.526841 0.416901,3.055723 3.33509,0.842961c0,0 0.750386,-0.842961 0.66703,0c-0.083417,0.842961 -3.001605,5.373884 -6.670179,-0.842961c0,0 -1.33406,-4.741721 0.66703,-5.900802c2.001029,-1.159081 -0.66703,-3.477242 -3.33509,-1.685921c0,0 -0.166773,3.371843 0.666969,4.214804c0.833803,0.842961 -1.417416,0.105399 -2.001029,-0.842961c-0.583613,-0.948283 -1.33406,2.002041 -1.33406,2.528882c0,0.526841 -0.750386,2.318161 -1.333999,1.685998c-0.583674,-0.63224 -6.086566,-1.369878 -6.00321,-0.843037c0.083417,0.526918 -2.584643,2.73968 -3.33509,1.685998c-0.750386,-1.053758 -4.919218,-6.427643 -5.336119,-5.900802c-0.416901,0.526841 2.834832,6.427643 4.66915,7.586723c1.834257,1.159004 9.505011,1.896642 12.006298,-0.842961c0,0 3.835347,-0.94836 4.00212,0c0,0 4.335604,2.212762 4.00212,3.371843c-0.333545,1.159081 -0.333545,0.526841 -0.66703,0c-0.333485,-0.526918 -3.084961,-2.42356 -3.33509,-1.685921c-0.250129,0.737562 0,0.842961 0,0.842961c0,0 3.501862,1.264403 3.33509,1.685921c0,0 4.085476,2.107364 3.33509,6.743686c0,0 -1.250643,1.159081 -1.33406,0c-0.083356,-1.159081 0.500257,-4.320203 -2.001029,-4.214804c0,0 -0.416901,1.685921 -2.001029,0.842961c-1.584189,-0.842961 0.917098,-2.634281 -7.337209,-1.685921c0,0 0.333485,2.002041 1.333999,2.528882c1.000515,0.526841 2.66812,0.526841 2.66812,2.528882c0,0 1.083871,1.685921 0,3.371843c0,0 -0.66703,0.526841 -0.66703,0c0,-0.526841 0.66703,-3.055723 -2.668059,-4.214804c-3.33515,-1.159081 -2.66812,-0.842961 -2.66812,-0.842961c0,0 0.583674,5.057764 -0.66703,5.057764c-1.250643,0 0.833803,3.161122 3.33515,1.685921c0,0 0.250068,-1.264403 0.666969,-0.842961c0.416901,0.421519 -2.084385,6.532965 -6.670179,-0.842961c0,0 -1.500772,-3.898684 0,-5.057764c0,0 1.000515,-3.898684 -4.00212,-2.528882c0,0 -2.084385,0.421442 -2.001029,0c0.083356,-0.421519 -0.333485,2.002041 0,2.528882c0.333485,0.526841 -3.918764,-1.159081 -4.00212,-1.685921l-1.333999,0c0,0 0.778171,4.917335 1.333999,5.057764c0.555828,0.14043 -2.556857,-2.388453 -3.33509,-4.214804c0,0 0,3.512273 0.66703,4.214804c0.66703,0.702531 -3.001605,-3.793362 -2.668059,-4.214804c0,0 0.111141,4.495816 1.333999,6.743686c1.222858,2.24787 -2.668059,-2.107364 -3.33509,-3.371843c0,0 -0.666969,0.561948 0,1.685921c0.66703,1.123973 -2.223373,-1.123973 -2.668059,-4.214804c0,0 -1.889888,-1.966934 -2.668059,-2.528882c0,0 0.111141,4.776752 0.66703,5.057764c0,0 -1.556403,-1.545492 -2.00109,-3.371843c0,0 -0.889313,1.685921 -0.66703,2.528882c0,0 -2.556857,-3.652855 -3.33509,-6.743686c-0.778171,-3.09083 -0.666969,0.842961 -0.666969,0.842961c0,0 -1.556403,-0.281089 -2.66812,-5.900725c0,0 -6.447836,8.570037 -8.671208,9.272568c-2.223373,0.702455 2.668059,-3.371843 2.668059,-3.371843c0,0 -3.668574,1.404909 -4.00212,2.528882c0,0 0.333545,-1.545492 2.00109,-3.371843c1.667545,-1.826428 -2.00109,-0.842961 -2.00109,-0.842961c0,0 -0.778171,-0.281089 -0.666969,-9.272645c0,0 -5.002695,6.743763 -8.004239,6.743763c-3.001605,0 2.779261,-2.809971 3.33509,-5.057841c0.555828,-2.24787 -1.222858,-1.545415 -2.00109,-0.842961c-0.778171,0.702531 -6.558977,4.917335 -6.670179,5.900802c-0.111141,0.98339 -0.666969,-1.685921 -0.666969,-1.685921c0,0 -1.33406,0.842961 -2.66812,0.842961c-1.333999,0 3.890918,-3.09083 4.66915,-5.057841c0.778232,-1.966934 -7.226007,3.512349 -10.005269,5.900802c0,0 -2.334575,0.98339 -2.668059,0c-0.333545,-0.983467 4.00212,-4.776752 4.00212,-5.057841c0,-0.281012 1.556343,-2.669312 -1.33406,-0.842961c-2.890403,1.826428 -6.670179,0.421519 -9.338238,1.685921c-2.66812,1.264479 -5.558462,5.198271 -9.338299,5.057841c-3.779776,-0.140506 -3.778866,5.900725 -10.672238,5.900725c-4.00212,0 -2.334575,1.966934 -4.00212,1.685921c-1.667545,-0.281012 2.001029,-2.528882 2.001029,-2.528882c0,0 -4.00212,1.685921 -4.669089,1.685921c-0.66703,0 -3.668635,0.14043 3.335029,-3.371843c0,0 -5.113776,0 -3.335029,-0.842961c1.778686,-0.842961 6.225492,-2.528882 6.003149,-3.371843c-0.222404,-0.842961 -4.780291,-0.702531 -3.33509,-1.685921c1.445141,-0.983467 9.338238,-4.636322 7.337209,-5.057841c-2.00109,-0.421442 -4.891493,-0.561948 -3.33509,-1.685921c1.556403,-1.123973 20.677506,-3.793285 23.345627,-6.743686c2.668059,-2.950401 9.560582,-11.520438 11.339268,-11.80145c1.778747,-0.281089 0,-2.388453 -1.333999,-1.685998c-1.33406,0.702531 -2.556918,-0.421442 -2.00109,-5.057764c0.555889,-4.636246 -5.72111,10.16681 -9.338238,5.057764c-1.889888,-2.669312 -0.444687,-4.636246 -2.668059,-4.214804c-2.223373,0.421519 -2.112231,-3.09083 -2.668059,-1.685921c-0.555828,1.404909 -5.224978,10.115605 -7.337209,9.272645c-2.112231,-0.842961 -0.555828,-1.404909 -2.00109,-1.685921c-1.445201,-0.281089 -2.445716,-0.842961 -2.668059,-2.528959c-0.222343,-1.685921 -1.556343,1.12405 -2.001029,-1.685921c-0.444687,-2.809895 -0.778171,-6.322167 -2.668059,-3.371843c-1.889949,2.950401 -2.556979,0.983467 -2.66812,0c-0.111141,-0.98339 -4.113261,0.561948 -4.002059,-2.528882c0.111081,-3.09083 -3.890978,0.983467 -3.33515,-2.528882c0.555889,-3.512273 -3.380893,-0.476019 -2.668059,-3.371843c1.556403,-6.322244 -5.336119,-0.561948 -4.669089,-3.371843c0.666969,-2.809895 -3.223948,-0.561948 -2.66812,-3.371843c0.555889,-2.809895 -3.701395,-1.83394 -3.33509,-4.214804c0.778171,-5.057841 -4.002059,-1.545492 -3.33509,-5.900802c0.66703,-4.355233 -3.035457,-0.029205 -2.668059,-3.371843c0.555889,-5.057764 -4.764518,-3.221065 -3.33509,-6.743686c2.223433,-5.479283 -2.286223,-3.123868 -1.33406,-5.900725c1.445201,-4.214804 -9.285458,0.467588 -6.670179,-6.743763c1.222919,-3.371843 -7.262771,-5.6168 -3.33509,-8.429607c6.670179,-4.776752 -10.227551,-2.388453 -2.001029,-10.115529c7.670694,-4.495816 8.140739,-4.919251 -1.33406,-4.214804c-3.779776,0.281012 -9.44944,-6.322244 -4.002059,-6.743763c5.447321,-0.421442 16.564246,-3.793285 4.002059,-5.057764c-12.562126,-1.264403 -13.006813,-7.024698 -8.004178,-6.743686c5.002634,0.281012 24.568485,0.281012 19.343507,-1.685921c-5.224978,-1.966934 -29.136988,-6.773887 -20.010537,-11.80145c4.335604,-2.388453 34.886065,10.310842 26.013686,1.685921c-1.445141,-1.404909 -15.563731,-6.46275 -20.677567,-13.487448c-5.113776,-7.024698 -4.113261,-8.008165 -1.333999,-6.743686c2.779261,1.264403 35.018258,19.809616 30.015806,13.487372c-0.889373,-1.123973 -19.343507,-12.222969 -22.011627,-21.916979c-2.668059,-9.694087 -0.111141,-7.165205 2.00109,-4.21488c2.112171,2.950401 32.44775,31.124698 27.347746,21.917056c-1.556403,-2.809895 -15.119044,-14.04932 -18.009508,-25.288899c-2.890463,-11.239502 -0.66703,-8.148595 1.33406,-5.057764c2.001029,3.09083 32.912275,45.201307 28.014715,30.346663c-1.111656,-3.371843 -10.894642,-13.90889 -12.006298,-23.602977c-1.111656,-9.694087 1.778686,-6.041155 3.33509,-2.528882c1.556403,3.512349 23.456829,47.205955 24.012657,39.619308c0,0 0.111202,0.14043 0.66703,0c0.555828,-0.140506 -0.444687,-4.074374 0.66703,-3.371843c0,0 0.444687,-3.09083 1.333999,-2.528959c0.889373,0.561948 1.778747,0.140506 2.00109,-3.371843c0.222283,-3.512273 6.78132,0.561948 8.671208,18.545213c0,0 1.33406,1.824128 1.33406,5.900725c0,2.10744 8.004178,12.363475 12.673328,11.801527c4.66915,-0.561948 11.339329,11.80145 13.340358,12.644411c2.001029,0.842961 6.447836,5.900725 13.340358,0.842961c6.892522,-5.057764 13.673903,-6.743686 8.004239,-7.586647c-5.669664,-0.842961 -4.557948,-3.652855 -2.001029,-4.214804c2.556857,-0.561948 13.673843,-0.842961 10.005269,-3.371843c-3.668635,-2.528959 -6.83768,-16.04017 -2.00109,-12.644488c2.00109,1.404909 9.107584,13.889114 8.004239,5.057764c-0.333545,-2.669312 -4.66915,-5.900725 -3.33509,-15.173293c1.333999,-9.272645 3.183605,-1.895646 3.33509,-0.842961c0.222343,1.545415 5.615489,20.732833 6.670179,10.95849c0.333485,-3.09083 -2.445716,-7.165205 -1.33406,-18.545213c1.111656,-11.379932 2.668059,0 2.668059,0c0,0 3.171896,11.653892 2.66812,17.702252c-0.222404,2.669388 2.890403,1.685921 2.668059,-3.371843c-0.222404,-5.057764 -1.889888,-16.15676 -0.66703,-16.016331c1.222919,0.140506 4.886882,7.524174 4.00212,13.487448c-0.333545,2.24787 4.780291,4.495816 -0.66703,9.272568c-5.44726,4.776752 -11.339329,14.330409 -11.339329,14.330409c0,0 1.317923,6.174302 -5.336119,9.272568c-4.224463,1.966934 -0.66703,5.900725 -0.66703,5.900725z', stroke-width='1.5', fill='#ff0004')
        path#svg_3.uYfoqRSv_3(stroke='#000', d='m125.588469,196.487686c-4.211588,-5.204481 -10.760791,-5.797978 -12.335605,-13.205878c-1.23434,-4.029295 -12.87074,-9.433378 -5.983761,-2.201345c5.317967,4.357963 11.636042,20.432195 -1.447282,15.353527c-9.950847,-3.299522 -10.377547,-13.488139 -13.044847,-21.115996c-8.673875,-5.437141 2.242568,-16.933578 -7.096728,-23.899992c-7.926417,-7.272104 -2.406165,-20.89168 -13.732354,-26.048002c-5.684994,-2.084693 -8.145722,12.309153 -9.102921,1.779113c-3.114561,-10.650077 -14.114366,5.177099 -21.449343,3.499169c-5.918905,-0.464892 9.900795,-4.182628 2.35155,-5.183105c-4.438379,2.195208 -8.544951,5.990855 -9.247137,-0.292066c-5.339105,-2.864923 -16.53532,-7.44009 -16.244476,-11.991292c4.636466,-1.315941 20.288648,2.491804 17.576187,-2.798958c-4.654418,-1.595909 -5.499917,-5.958429 0.200828,-3.030603c11.234576,0.318414 24.404695,-3.733337 33.752578,4.016085c4.875888,2.710602 9.670032,12.432167 12.280334,2.984624c8.414387,-9.169346 25.393258,-9.94602 30.58034,-21.818025c1.255208,-5.743826 -3.855058,-9.020846 -8.196387,-10.184297c-0.844609,-1.887626 -2.282401,-9.901786 -5.872388,-5.857588c0.163626,-3.53963 3.531217,-12.004134 -3.928121,-8.256895c-0.756583,-7.539192 6.376801,-15.060822 -3.059706,-20.550955c8.841502,1.481878 7.097997,-7.625072 5.172235,-9.0694c5.241165,-0.672402 11.391919,-4.933639 8.502122,-10.212587c5.691765,9.335862 5.889123,-11.326128 10.575124,-2.420189c8.62461,1.277476 -2.679348,-6.961771 5.253177,-5.122744c4.529562,0.140031 3.523564,-4.484065 7.592664,-0.994102c5.385388,-2.65487 -4.128431,-10.678322 4.566851,-5.103534c2.923041,2.29433 12.229181,8.303519 10.559446,0.373863c8.262459,7.963182 14.764584,-7.396442 21.630367,-10.57727c2.723329,-2.943664 8.645441,-6.058974 3.183703,-0.439841c-3.625884,7.162663 -15.92729,14.911144 -12.617834,22.028289c-2.995579,2.463988 6.044032,5.560794 -1.151875,4.627961c-4.263062,4.157657 5.715381,11.936377 6.511709,18.479887c-2.285674,4.483466 -10.988981,9.573389 -14.509688,9.412516c1.286783,-5.772466 -1.502786,-13.296222 -9.650608,-10.033381c4.564249,7.545402 10.735047,14.753642 14.601271,22.959132c3.778956,8.066388 9.905883,17.381434 17.966705,6.999985c5.137737,-6.616699 19.814979,-6.520915 15.783263,4.22463c-2.061027,10.551811 3.456966,24.478079 -7.145731,31.746535c-6.396131,11.135621 -13.487101,-4.140462 -8.462019,-9.91954c-1.280442,-1.651476 -2.271002,-2.817265 1.475898,-5.074724c-0.773675,-1.693333 10.782949,-8.064096 4.958455,-11.973295c-6.624408,6.786805 -16.317451,14.642561 -13.623642,24.731054c2.186321,6.76051 -15.8454,18.350788 -14.403483,7.131093c0.32298,-4.360353 7.213327,-12.811206 5.627259,-13.899933c-5.030578,8.528046 -12.186819,16.721057 -23.000628,19.253045c-8.994967,0.481599 -13.706894,7.025095 -9.435355,14.285175c0.816329,10.287858 -5.19432,19.59888 -6.578117,29.61556c2.572313,10.624006 18.233263,12.770851 20.359007,23.60815c3.652685,7.278334 -5.484115,6.202712 -9.741061,4.166139l0.000022,0.000007zm-22.271196,-31.69484c-1.318475,-4.802374 -4.031796,12.48381 -0.687135,3.309005l0.500703,-1.620934l0.186432,-1.688078l0,0.000007z', stroke-opacity='null', stroke-width='1.5', fill='#0000ff')
        path#svg_5.uYfoqRSv_4(opacity='0.5', fill-opacity='null', stroke-opacity='null', stroke-width='1.5', stroke='#000', fill='#fff')
        path#svg_6.uYfoqRSv_5(opacity='0.5', fill-opacity='null', stroke-opacity='null', stroke-width='1.5', stroke='#000', fill='#fff')
        path#svg_7.uYfoqRSv_6(opacity='0.5', fill-opacity='null', stroke-opacity='null', stroke-width='1.5', stroke='#000', fill='#fff')
        path#svg_8.uYfoqRSv_7(opacity='0.5', fill-opacity='null', stroke-opacity='null', stroke-width='1.5', stroke='#000', fill='#fff')
        path#svg_11.uYfoqRSv_8(stroke='#000', d='m247.000002,89.45061l20.608161,-20.850616l21.89173,22.149104l21.89173,-22.149104l20.608355,20.850616l-21.891735,22.149286l21.891735,22.149286l-20.608355,20.850812l-21.89173,-22.149291l-21.89173,22.149291l-20.608161,-20.850812l21.89155,-22.149286l-21.89155,-22.149286z', stroke-opacity='null', stroke-width='1.5', fill='#999999')
      style(data-made-with='vivus-instant').
        .uYfoqRSv_0{stroke-dasharray:1568 1570;stroke-dashoffset:1569;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}.uYfoqRSv_1{stroke-dasharray:400 402;stroke-dashoffset:401;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}.uYfoqRSv_2{stroke-dasharray:1670 1672;stroke-dashoffset:1671;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}.uYfoqRSv_3{stroke-dasharray:1000 1002;stroke-dashoffset:1001;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}.uYfoqRSv_4{stroke-dasharray:0 2;stroke-dashoffset:1;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}.uYfoqRSv_5{stroke-dasharray:0 2;stroke-dashoffset:1;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}.uYfoqRSv_6{stroke-dasharray:0 2;stroke-dashoffset:1;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}.uYfoqRSv_7{stroke-dasharray:0 2;stroke-dashoffset:1;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}.uYfoqRSv_8{stroke-dasharray:367 369;stroke-dashoffset:368;animation:uYfoqRSv_draw 3000ms ease-in 0ms forwards;}@keyframes uYfoqRSv_draw{100%{stroke-dashoffset:0;}}@keyframes uYfoqRSv_fade{0%{stroke-opacity:1;}94.44444444444444%{stroke-opacity:1;}100%{stroke-opacity:0;}}
block content
  if usersession
    include includes/match_result.jade
    include includes/confirm_modal.jade
    //- center: p Welcome to #{title}
    .wrapper
      div#progress-timer
      hr
      div(class="svgbox")#playername
      div(class="flexbox")#turnlabel
      center: canvas(id="myCanvas", height="800", width="800")
      script(src="http://localhost:8888/socket.io/socket.io.js")
      script(type='text/javascript').
        var dir = '#{filedir}';
        var roomid = '#{roomId}';
        var userid = '#{usersession.user.id}';
        var username = '#{usersession.user.displayName}';
        var thumbnail = '#{usersession.user.photos[0].value}';
        var declare_time = Number('#{declare_time}');
        var move_time = Number('#{move_time}');
        var strategy_time = Number('#{strategy_time}');
      script(src="/module/client_socket.js")
      script(src="/module/calcScore.js")
      hr
      .card
        //- .card-header.bg-dark.text-white
          //- strong: font(size="3") Status Board
        .card-body
          .progress(style='height: 30px;')
            .progress-bar.progress-bar-striped.progress-bar-animated(role='progressbar', style='width: 50%', aria-valuenow='50', aria-valuemin='0', aria-valuemax='100')#blueBar 
              strong: font(size="4px"): span#blueScore 0pt
            .progress-bar.bg-danger.progress-bar-striped.progress-bar-animated(role='progressbar', style='width: 50%', aria-valuenow='50', aria-valuemin='0', aria-valuemax='100')#redBar
              strong: font(size="4px"): span#redScore 0pt
          hr
          div(class="box1")
            button.btn.btn-primary.btn-lg.btn-block(type='button')#joinBlue: strong Join Blue
          div(class="box2")
            button.btn.btn-danger.btn-lg.btn-block(type='button')#joinRed: strong Join Red
      hr
      //- button.btn.btn-success.btn-lg.btn-block(type='button')#startbutton: strong Game Start!
      a(href="/rooms/#{questId}", class="btn") Back to Quest
  else
    div(class="alert alert-danger" role="alert")
      セッション情報がありません．ログインを行ってください．
